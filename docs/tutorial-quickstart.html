<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Tutorial: Getting Started</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-kadence_churnfilter.html">kadence/churnfilter</a></div><div class="sidebar-section-children"><a href="module-kadence_constants.html">kadence/constants</a></div><div class="sidebar-section-children"><a href="module-kadence_contentaddress.html">kadence/contentaddress</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse.html">kadence/eclipse</a></div><div class="sidebar-section-children"><a href="module-kadence_hashcash.html">kadence/hashcash</a></div><div class="sidebar-section-children"><a href="module-kadence_hibernate.html">kadence/hibernate</a></div><div class="sidebar-section-children"><a href="module-kadence_logger.html">kadence/logger</a></div><div class="sidebar-section-children"><a href="module-kadence_onion.html">kadence/onion</a></div><div class="sidebar-section-children"><a href="module-kadence_quasar.html">kadence/quasar</a></div><div class="sidebar-section-children"><a href="module-kadence_rolodex.html">kadence/rolodex</a></div><div class="sidebar-section-children"><a href="module-kadence_spartacus.html">kadence/spartacus</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse.html">kadence/traverse</a></div><div class="sidebar-section-children"><a href="module-kadence_trust.html">kadence/trust</a></div><div class="sidebar-section-children"><a href="module-kadence_utils.html">kadence/utils</a></div><div class="sidebar-section-children"><a href="module-kadence_version.html">kadence/version</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AbstractNode.html">AbstractNode</a></div><div class="sidebar-section-children"><a href="Bucket.html">Bucket</a></div><div class="sidebar-section-children"><a href="ContactList.html">ContactList</a></div><div class="sidebar-section-children"><a href="Control.html">Control</a></div><div class="sidebar-section-children"><a href="ErrorRules.html">ErrorRules</a></div><div class="sidebar-section-children"><a href="HTTPSTransport.html">HTTPSTransport</a></div><div class="sidebar-section-children"><a href="HTTPTransport.html">HTTPTransport</a></div><div class="sidebar-section-children"><a href="KademliaNode.html">KademliaNode</a></div><div class="sidebar-section-children"><a href="KademliaRules.html">KademliaRules</a></div><div class="sidebar-section-children"><a href="Messenger.html">Messenger</a></div><div class="sidebar-section-children"><a href="module-kadence_churnfilter-ChurnFilterPlugin.html">ChurnFilterPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_contentaddress-ContentAddressPlugin.html">ContentAddressPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse-EclipseIdentity.html">EclipseIdentity</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse-EclipsePlugin.html">EclipsePlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse-EclipseRules.html">EclipseRules</a></div><div class="sidebar-section-children"><a href="module-kadence_hashcash-HashCashPlugin.html">HashCashPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_hibernate-HibernatePlugin.html">HibernatePlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_logger-IncomingMessageLogger.html">IncomingMessageLogger</a></div><div class="sidebar-section-children"><a href="module-kadence_logger-OutgoingMessageLogger.html">OutgoingMessageLogger</a></div><div class="sidebar-section-children"><a href="module-kadence_onion-OnionPlugin.html">OnionPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_quasar-QuasarPlugin.html">QuasarPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_quasar-QuasarRules.html">QuasarRules</a></div><div class="sidebar-section-children"><a href="module-kadence_rolodex-RolodexPlugin.html">RolodexPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_spartacus-SpartacusPlugin.html">SpartacusPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-NATPMPStrategy.html">NATPMPStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-ReverseTunnelStrategy.html">ReverseTunnelStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-TraversePlugin.html">TraversePlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-TraverseStrategy.html">TraverseStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-UPNPStrategy.html">UPNPStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_trust-TrustPlugin.html">TrustPlugin</a></div><div class="sidebar-section-children"><a href="RoutingTable.html">RoutingTable</a></div><div class="sidebar-section-children"><a href="UDPTransport.html">UDPTransport</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-events"><div>Events</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AbstractNode.html#event:error">error</a></div><div class="sidebar-section-children"><a href="AbstractNode.html#event:join">join</a></div><div class="sidebar-section-children"><a href="KademliaNode.html#event:error">error</a></div><div class="sidebar-section-children"><a href="KademliaNode.html#event:join">join</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-tutorials"><div>Tutorials</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="tutorial-config.html">Configuration Guide</a></div><div class="sidebar-section-children"><a href="tutorial-identities.html">Contacts and Identities</a></div><div class="sidebar-section-children"><a href="tutorial-install.html">Installing Kadence</a></div><div class="sidebar-section-children"><a href="tutorial-messengers.html">Message Format</a></div><div class="sidebar-section-children"><a href="tutorial-middleware.html">Middleware Stack</a></div><div class="sidebar-section-children"><a href="tutorial-nat.html">Traversing NATs and Firewalls</a></div><div class="sidebar-section-children"><a href="tutorial-plugins.html">Using and Authoring Plugins</a></div><div class="sidebar-section-children"><a href="tutorial-protocol.html">Protocol Specification</a></div><div class="sidebar-section-children"><a href="tutorial-quickstart.html">Getting Started</a></div><div class="sidebar-section-children"><a href="tutorial-transport-adapters.html">Transport Adapters</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header><h2>Getting Started</h2></header><article><p>Getting started with building distributed systems with Kadence is simple, but requires a basic understanding of it's architecture in order to make the most effective use of what it has to offer. There are two ways to build on top of Kadence: using the complete reference implementation as a daemon and communicating with it from <em>any language</em> using the <a href="Control.html">Control</a> interface or using the core library directly using JavaScript. This tutorial will cover both approaches.</p><blockquote><p>Note that this guide assumes you already have Kadence installed. If you have not installed Kadence, follow our guide for <a href="tutorial-install.html">Installing Kadence</a> and come back here when you're ready!</p></blockquote><h3 id="contents">Contents</h3><ol><li><a href="#library">Using the Library</a></li><li><a href="#daemon">Using the Daemon</a></li></ol><p><span id="library"></span></p><h3 id="using-the-library">Using the Library</h3><p>Not all use-cases require the exact properties of a &quot;proper&quot; Kadence network. Because of this, Kadence exposes it's core library as a complete framework for building distributed systems. This guide will demonstrate how to use the Kadence framework to invent new distributed protocols.</p><p>Start by following the guide for <a href="tutorial-install.html">Installing Kadence</a> and install Kadence locally to a new project. First create your project.</p><pre class="prettyprint source"><code>$ mkdir myproject
$ cd myproject
$ npm init
</code></pre><p>Then install Kadence and save the dependency to your <code>package.json</code> file.</p><pre class="prettyprint source"><code>$ npm install @deadcanaries/kadence --save
</code></pre><h4 id="creating-a-node">Creating a Node</h4><p>Most of the framework revolves around the instantiation of a <a href="KademliaNode.html">KademliaNode</a>, which exposes the primary interface for extending the protocol. There are several required options to provide, notably:</p><ul><li><a href="AbstractNode.html#~transport">AbstractNode~transport</a></li><li><a href="AbstractNode.html#~storage">AbstractNode~storage</a></li><li><a href="Bucket.html#~contact">Bucket~contact</a></li><li>Identity buffer (160 bits)</li></ul><p>For this example we'll be using the <a href="UDPTransport.html">UDPTransport</a> and a LevelDB database provided by the <code>levelup</code> and <code>leveldown</code> packages.</p><pre class="prettyprint source lang-js"><code>const kadence = require('@tacticalchihuahua/kadence');
const levelup = require('levelup');
const leveldown = require('leveldown');
const encode = require('encoding-down');

const node = new kadence.KademliaNode({
  identity: kadence.utils.getRandomKeyBuffer(),
  transport: new kadence.UDPTransport(),
  storage: levelup(encode(leveldown('path/to/database'))),
  contact: {
    hostname: 'my.hostname',
    port: 8080
  }
});
</code></pre><p>The code above is the minimum setup for a complete Kademlia DHT. If this is all you require, then all you need to do is listen on the port specified in the <code>contact.port</code> option and join a known seed with <a href="KademliaNode.html#join">KademliaNode#join</a>. The provided seed must be defined as a tuple (array) where the first item is the hex encoded identity key of the seed and the second item is the <a href="Bucket.html#~contact">Bucket~contact</a> object. You can read more about this structure in our guide on <a href="tutorial-identities.html">Contacts and Identities</a>.</p><p>If this node is the &quot;first node&quot; in the network, you don't need to call <a href="KademliaNode.html#join">KademliaNode#join</a>, instead our node will just listen for connections from others.</p><pre class="prettyprint source lang-js"><code>const seed = ['0000000000000000000000000000000000000000', { // (sample)
  hostname: 'seed.hostname',
  port: 8080
}];

node.once('join', function() {
  console.info(`connected to ${node.router.size} peers`);
});

node.once('error', function(err) {
  console.error('failed to join the network', err);
});

node.listen(node.contact.port);
node.join(seed);
</code></pre><p>That's it, for a basic minimal Kademlia DHT, you're finished! Now you can use the methods on <a href="KademliaNode.html">KademliaNode</a> to store and retrieve entries from the network. To learn more about using plugins, extending the protocol with middleware, custom transports, and the message pipelines, see:</p><ul><li><a href="tutorial-plugins.html">Using and Authoring Plugins</a></li><li><a href="tutorial-middleware.html">Middleware Stack</a></li><li><a href="tutorial-transport-adapters.html">Transport Adapters</a></li><li><a href="tutorial-messengers.html">Message Format</a></li><li><a href="https://github.com/tacticalchihuahua/kadence/tree/main/example">Examples</a></li><li><a href="https://github.com/tacticalchihuahua/kadence/blob/main/bin/kadence.js">Reference Implementation</a></li></ul><blockquote><p><strong>Note!</strong> If you are using Kadence to build a distributed network from scratch the best place to start is the <a href="https://gitlab.com/kadence/kadence/blob/master/bin/kadence.js">reference implementation</a>. This provides a complete working Kadence network that leverages all the features provided by the library as well as autogenerating keys, managing configuration, and more!</p></blockquote><p><span id="daemon"></span></p><h3 id="using-the-daemon">Using the Daemon</h3><p>Kadence &quot;proper&quot; describes a Kademlia DHT with several notable protocol extensions - specifically the extensions that are authored in the core library as plugins:</p><ul><li><a href="module-kadence_spartacus.html">module:kadence/spartacus</a></li><li><a href="module-kadence_eclipse.html">module:kadence/eclipse</a></li><li><a href="module-kadence_hashcash.html">module:kadence/hashcash</a></li><li>module:kadence/permission</li><li><a href="module-kadence_quasar.html">module:kadence/quasar</a></li></ul><p>The daemon also leverages the following plugins that do not affect the protocol itself, but rather provide features that improve the user experience or enable other optional features.</p><ul><li><a href="module-kadence_rolodex.html">module:kadence/rolodex</a></li><li><a href="module-kadence_traverse.html">module:kadence/traverse</a></li><li><a href="module-kadence_onion.html">module:kadence/onion</a></li><li><a href="module-kadence_hibernate.html">module:kadence/hibernate</a></li></ul><p>Together these plugins combined with the base implementation of the Kademlia DHT form the Kadence protocol and a complete standalone program for running a configurable Kadence node. If you installed Kadence using the <code>-g</code> or <code>--global</code> flag, you now have access to the <code>kadence</code> command line program. This program handles everything you need to interact with a Kadence network from any programming language.</p><h4 id="identity-generation">Identity Generation</h4><p>Kadence mitigates eclipse attacks (a form of a sybil attack) by requiring node identities to act as a proof-of-work solution. This means that Kadence expects your node identity to be derived from a public key of which the Scrypt hash contains a number of leading zero bits as defined by the value of <a href="module-kadence_constants.html#~IDENTITY_DIFFICULTY">module:kadence/constants~IDENTITY_DIFFICULTY</a>. This prevents adversaries from quickly generating a large number of identities that are close enough to each other to &quot;surround&quot; sections of the keyspace which could allow them to poison the routing table, deny service, or otherwise manipulate portions of the network.</p><p>The first time you run <code>kadence</code>, it will automatically begin &quot;mining&quot; a valid identity, which can take some time depending on your hardware. If you are just getting started with testing Kadence, you'll probably want to set <code>TestNetworkEnabled=1</code> in your <code>$HOME/.config/kadence/config</code> or set the environment variable <code>kadence_TestNetworkEnabled=1</code> (see <a href="tutorial-config.html">Configuration Guide</a>). This will reduce the difficulty significantly and allow you to get started quickly. In a live &quot;production&quot; network, you can pass <code>--solvers N</code> where <code>N</code> is the number of CPU cores you'd like to dedicate to identity mining (and solution mining as discussed later).</p><p>In the example below, we are also setting <code>kadence_TraverseNatEnabled=0</code> because for now we aren't interested in punching out and becoming addessable on the internet.</p><pre class="prettyprint source"><code>$ export kadence_TestNetworkEnabled=1 kadence_TraverseNatEnabled=0

$ kadence
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;kadence is running in test mode, difficulties are reduced&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:05.188Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:40,&quot;msg&quot;:&quot;identity derivation not yet solved - 0 is invalid&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:05.357Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;solving identity derivation index with 1 solver processes, this can take a while&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:05.357Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;forking derivation process 0&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:05.377Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;solved identity derivation index 11 in 882ms&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.239Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;initializing kadence&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.244Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;validating solutions in wallet, this can take some time&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.257Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;node listening on local port 5274 and exposed at https://127.0.0.1:5274&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.262Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;binding controller to path /home/bookchin/.config/kadence/kadence.sock&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.262Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;forking solver process 0&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.263Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;no bootstrap seeds provided and no known profiles&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.269Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;running in seed mode (waiting for connections)&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.269Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;derivation solver 0 exited normally&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.272Z&quot;,&quot;v&quot;:0}
</code></pre><p>Notice the log message <code>solved identity derivation index 11 in 882ms</code>. This means that a new hierarchically deterministic private extended key was generated and the child private key at index 11 yielded a public key that when hashed with Scrypt satisfies the identity difficulty. Now you can join your test Kadence network.</p><h4 id="solution-mining">Solution Mining</h4><p>Once your Kadence node has generated a valid identity, you'll begin seeing log messages similar to the following:</p><pre class="prettyprint source"><code>{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:23409,&quot;level&quot;:30,&quot;msg&quot;:&quot;solver 0 found solution in 4 attempts (226ms)&quot;,&quot;time&quot;:&quot;2018-03-16T15:28:06.804Z&quot;,&quot;v&quot;:0}
</code></pre><p>This is part of Kadence's permission protocol for storing entries in the DHT. In a basic Kademlia network, entries can be stored and overwritten by any party. Kadence employs a proof-of-work system that requires nodes attempting to store an entry provide a &quot;solution&quot;. Solutions are &quot;mined&quot; by a process similar to how Kadence identities are generated, but instead are derived from the identity solution. When a solution is found, it is stored in a &quot;wallet&quot; - a directory of solution files.</p><p>Solutions are then hashed and the resulting 160 bit key can be used to store arbitrary data in the DHT and is keyed by the solution hash. In practice, this means that your application must track any mapping from a key your application understands to the solution hash that was used to store the entry in the network.</p><blockquote><p>While <code>TestNetworkEnabled=1</code>, these solutions will be found very quickly, so it's probably desirable to start the daemon with <code>--solvers 0</code> after you have mined enough solutions to use during development.</p></blockquote><h4 id="controlling-the-daemon">Controlling the Daemon</h4><p>The Kadence daemon exposes a control interface to other applications by default over a UNIX domain socket located at <code>$HOME/.config/kadence/kadence.sock</code>, but may also be configured to listen on a TCP port instead. You may not enable both types at once.</p><p>The control interface speaks JSON-RPC 2.0 and it's <a href="Control.html">API is documented here</a>. You can interact with the controller from any language that can open a socket connection. For this example we'll use <code>telnet</code> and use the TCP socket interface.</p><pre class="prettyprint source"><code>$ export kadence_ControlPortEnabled=1 kadence_ControlSockEnabled=0

$ kadence --solvers 0
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;kadence is running in test mode, difficulties are reduced&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.440Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;initializing kadence&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.503Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;validating solutions in wallet, this can take some time&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.519Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;node listening on local port 5274 and exposed at https://127.0.0.1:5274&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.576Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;binding controller to port 5275&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.577Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;there are no solver processes running&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.577Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;no bootstrap seeds provided and no known profiles&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.578Z&quot;,&quot;v&quot;:0}
{&quot;name&quot;:&quot;kadence&quot;,&quot;hostname&quot;:&quot;librem&quot;,&quot;pid&quot;:24893,&quot;level&quot;:30,&quot;msg&quot;:&quot;running in seed mode (waiting for connections)&quot;,&quot;time&quot;:&quot;2018-03-16T16:43:04.578Z&quot;,&quot;v&quot;:0}
</code></pre><p>When starting Kadence with <code>ControlPortEnabled=1</code>, you'll notice a log message <code>binding controller to port 5275</code>. Open a connection to this port and you can start sending commands by typing a JSON-RPC payload and pressing return (which terminates the command with a <code>\r\n</code>). The result of the command will be written back to the socket.</p><pre class="prettyprint source"><code>$ telnet localhost 5275
Trying ::1...
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;1234567890&quot;,&quot;method&quot;:&quot;getProtocolInfo&quot;,&quot;params&quot;:[]}
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;1234567890&quot;,&quot;result&quot;:[{&quot;versions&quot;:{&quot;protocol&quot;:&quot;1.0.0&quot;,&quot;software&quot;:&quot;3.1.2&quot;},&quot;identity&quot;:&quot;27f06eba2be0a5f1399bfc0ebd477522118d1f69&quot;,&quot;contact&quot;:{&quot;hostname&quot;:&quot;127.0.0.1&quot;,&quot;protocol&quot;:&quot;https:&quot;,&quot;port&quot;:5274,&quot;xpub&quot;:&quot;xpub69sEXvvUfWbQg8FSCPWPojcrUpkbtNkKDLSNSTx9GAsB1MVpeZ5eoCQTo4EViDnVn7pPpLbGq83aoD24vTGPnDKnXxqGJxxNbEJhizfFFQH&quot;,&quot;index&quot;:11,&quot;agent&quot;:&quot;1.0.0&quot;},&quot;peers&quot;:[]}]}
^]
telnet> quit
Connection closed.
</code></pre><p>Complete documentation on configuration properties and what they do can be reviewed in the <a href="tutorial-config.html">Configuration Guide</a>.</p></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-kadence_churnfilter.html">kadence/churnfilter</a></div><div class="sidebar-section-children"><a href="module-kadence_constants.html">kadence/constants</a></div><div class="sidebar-section-children"><a href="module-kadence_contentaddress.html">kadence/contentaddress</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse.html">kadence/eclipse</a></div><div class="sidebar-section-children"><a href="module-kadence_hashcash.html">kadence/hashcash</a></div><div class="sidebar-section-children"><a href="module-kadence_hibernate.html">kadence/hibernate</a></div><div class="sidebar-section-children"><a href="module-kadence_logger.html">kadence/logger</a></div><div class="sidebar-section-children"><a href="module-kadence_onion.html">kadence/onion</a></div><div class="sidebar-section-children"><a href="module-kadence_quasar.html">kadence/quasar</a></div><div class="sidebar-section-children"><a href="module-kadence_rolodex.html">kadence/rolodex</a></div><div class="sidebar-section-children"><a href="module-kadence_spartacus.html">kadence/spartacus</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse.html">kadence/traverse</a></div><div class="sidebar-section-children"><a href="module-kadence_trust.html">kadence/trust</a></div><div class="sidebar-section-children"><a href="module-kadence_utils.html">kadence/utils</a></div><div class="sidebar-section-children"><a href="module-kadence_version.html">kadence/version</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AbstractNode.html">AbstractNode</a></div><div class="sidebar-section-children"><a href="Bucket.html">Bucket</a></div><div class="sidebar-section-children"><a href="ContactList.html">ContactList</a></div><div class="sidebar-section-children"><a href="Control.html">Control</a></div><div class="sidebar-section-children"><a href="ErrorRules.html">ErrorRules</a></div><div class="sidebar-section-children"><a href="HTTPSTransport.html">HTTPSTransport</a></div><div class="sidebar-section-children"><a href="HTTPTransport.html">HTTPTransport</a></div><div class="sidebar-section-children"><a href="KademliaNode.html">KademliaNode</a></div><div class="sidebar-section-children"><a href="KademliaRules.html">KademliaRules</a></div><div class="sidebar-section-children"><a href="Messenger.html">Messenger</a></div><div class="sidebar-section-children"><a href="module-kadence_churnfilter-ChurnFilterPlugin.html">ChurnFilterPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_contentaddress-ContentAddressPlugin.html">ContentAddressPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse-EclipseIdentity.html">EclipseIdentity</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse-EclipsePlugin.html">EclipsePlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_eclipse-EclipseRules.html">EclipseRules</a></div><div class="sidebar-section-children"><a href="module-kadence_hashcash-HashCashPlugin.html">HashCashPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_hibernate-HibernatePlugin.html">HibernatePlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_logger-IncomingMessageLogger.html">IncomingMessageLogger</a></div><div class="sidebar-section-children"><a href="module-kadence_logger-OutgoingMessageLogger.html">OutgoingMessageLogger</a></div><div class="sidebar-section-children"><a href="module-kadence_onion-OnionPlugin.html">OnionPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_quasar-QuasarPlugin.html">QuasarPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_quasar-QuasarRules.html">QuasarRules</a></div><div class="sidebar-section-children"><a href="module-kadence_rolodex-RolodexPlugin.html">RolodexPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_spartacus-SpartacusPlugin.html">SpartacusPlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-NATPMPStrategy.html">NATPMPStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-ReverseTunnelStrategy.html">ReverseTunnelStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-TraversePlugin.html">TraversePlugin</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-TraverseStrategy.html">TraverseStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_traverse-UPNPStrategy.html">UPNPStrategy</a></div><div class="sidebar-section-children"><a href="module-kadence_trust-TrustPlugin.html">TrustPlugin</a></div><div class="sidebar-section-children"><a href="RoutingTable.html">RoutingTable</a></div><div class="sidebar-section-children"><a href="UDPTransport.html">UDPTransport</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-events"><div>Events</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="AbstractNode.html#event:error">error</a></div><div class="sidebar-section-children"><a href="AbstractNode.html#event:join">join</a></div><div class="sidebar-section-children"><a href="KademliaNode.html#event:error">error</a></div><div class="sidebar-section-children"><a href="KademliaNode.html#event:join">join</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-tutorials"><div>Tutorials</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="tutorial-config.html">Configuration Guide</a></div><div class="sidebar-section-children"><a href="tutorial-identities.html">Contacts and Identities</a></div><div class="sidebar-section-children"><a href="tutorial-install.html">Installing Kadence</a></div><div class="sidebar-section-children"><a href="tutorial-messengers.html">Message Format</a></div><div class="sidebar-section-children"><a href="tutorial-middleware.html">Middleware Stack</a></div><div class="sidebar-section-children"><a href="tutorial-nat.html">Traversing NATs and Firewalls</a></div><div class="sidebar-section-children"><a href="tutorial-plugins.html">Using and Authoring Plugins</a></div><div class="sidebar-section-children"><a href="tutorial-protocol.html">Protocol Specification</a></div><div class="sidebar-section-children"><a href="tutorial-quickstart.html">Getting Started</a></div><div class="sidebar-section-children"><a href="tutorial-transport-adapters.html">Transport Adapters</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>